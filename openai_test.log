2025-01-09 11:22:26,326 - INFO - Configuring OpenAI client for OpenRouter...
2025-01-09 11:22:26,326 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-01-09 11:22:26,327 - DEBUG - load_verify_locations cafile='/home/lemke/.local/lib/python3.10/site-packages/certifi/cacert.pem'
2025-01-09 11:22:26,353 - INFO - Making test request to OpenRouter...
2025-01-09 11:22:26,356 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:22:26,359 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:22:26,359 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:22:26,398 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:22:26,398 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:22:26,401 - DEBUG - 1 retry left
2025-01-09 11:22:26,402 - INFO - Retrying request to /chat/completions in 0.967083 seconds
2025-01-09 11:22:27,370 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:22:27,371 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:22:27,371 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:22:27,375 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:22:27,375 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:22:27,376 - DEBUG - 0 retries left
2025-01-09 11:22:27,376 - INFO - Retrying request to /chat/completions in 1.695789 seconds
2025-01-09 11:22:29,074 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:22:29,074 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:22:29,075 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:22:29,085 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:22:29,085 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:22:29,086 - DEBUG - Raising connection error
2025-01-09 11:22:29,086 - ERROR - Error: Connection error.

Error: Connection error.2025-01-09 11:26:48,133 - INFO - Configuring OpenAI client for OpenRouter...
2025-01-09 11:26:48,134 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-01-09 11:26:48,135 - DEBUG - load_verify_locations cafile='/home/lemke/.local/lib/python3.10/site-packages/certifi/cacert.pem'
2025-01-09 11:26:48,163 - INFO - Making test request to OpenRouter...
2025-01-09 11:26:48,165 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:26:48,172 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:26:48,173 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:26:48,200 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:26:48,200 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:26:48,204 - DEBUG - 1 retry left
2025-01-09 11:26:48,204 - INFO - Retrying request to /chat/completions in 0.817231 seconds
2025-01-09 11:26:49,023 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:26:49,023 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:26:49,023 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:26:49,028 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:26:49,028 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:26:49,028 - DEBUG - 0 retries left
2025-01-09 11:26:49,028 - INFO - Retrying request to /chat/completions in 1.912635 seconds
2025-01-09 11:26:50,943 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Say hello'}], 'model': 'anthropic/claude-3-haiku'}}
2025-01-09 11:26:50,944 - DEBUG - Sending HTTP Request: POST https://api.openrouter.ai/api/v1/chat/completions
2025-01-09 11:26:50,945 - DEBUG - connect_tcp.started host='api.openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-09 11:26:50,966 - DEBUG - connect_tcp.failed exception=ConnectError(gaierror(-2, 'Name or service not known'))
2025-01-09 11:26:50,966 - DEBUG - Encountered Exception
Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 216, in handle_request
    raise exc from None
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection_pool.py", line 196, in handle_request
    response = connection.handle_request(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 99, in handle_request
    raise exc
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 76, in handle_request
    stream = self._connect(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_sync/connection.py", line 122, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_backends/sync.py", line 205, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lemke/.local/lib/python3.10/site-packages/openai/_base_client.py", line 973, in _request
    response = self._client.send(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/lemke/.local/lib/python3.10/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -2] Name or service not known
2025-01-09 11:26:50,967 - DEBUG - Raising connection error
2025-01-09 11:26:50,967 - ERROR - Error making API request: Connection error.
